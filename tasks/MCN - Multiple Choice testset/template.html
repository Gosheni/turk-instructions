
<html lang="en">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>


    <!-- BOOTSTRAP CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- HITPUB CSS -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i" rel="stylesheet">
    <style id="hitpub_css">
        /***********************************************
        MOSAIC BOOSTRAP OVERWRITES
        ***********************************************/
        #hitinfo .card {
            border-radius: 0;
        }

            #hitinfo button.btn-link {
            color: #fff;
            text-decoration: none;
            }
        #hitinfo button.btn-link:hover {
            text-decoration: none;
        }
        #hit ul.question-choice {
            list-style-type: none;
        }

        /***********************************************
        MOSAIC GENERAL STYLING
        ***********************************************/
        body {
            font-family: "Open Sans", "Roboto", sans-serif;
            line-height: 1.25;
        }
        textarea#feedback {
            width: 100%
        }
        input#submitButton {
            margin: auto;
            display: block;
            background-color: #2172a4;
            color: #fff;
            font-size: 1.125rem;
            padding: .5rem 1rem;
            cursor: pointer;
            border-radius: 1rem;
        }
        input#submitButton:hover {
            background-color: #06486F;
        }

        input[type="radio"] {
            cursor: pointer;
        }

        div.question {
            border-bottom: solid 1px #ccc;
            padding: 1rem 0;
        }

        /***********************************************
        HIT CUSTOM GENERAL STYLING
        ***********************************************/
        div.card-header {
            background-color: #06486F;
        }
        div.card-header h5 {
            color: #fff !important;
        }

        li {
            margin: .5em 0;
        }

        label[for="2"]:hover, label[for="2"].active {
            background-color: #009300 !important;
        }
        label[for="1"]:hover, label[for="1"].active {
            background-color: #00b300 !important;
        }
        label[for="0"]:hover, label[for="0"].active {
            background-color: #999999 !important;
        }
        label[for="-1"]:hover, label[for="-1"].active {
            background-color:  #e30000 !important;
        }
        label[for="-2"]:hover, label[for="-2"].active {
            background-color: #9f0000 !important;
        }

        label[for="2"]:before, label[for="2"]:before {
            content:"strongly agree";
        }
        label[for="1"]:before, label[for="1"]:before {
            content:"moderately or weakly \A agree";
            white-space: pre;
        }
        label[for="0"]:before, label[for="0"]:before {
            content:"neither";
            white-space: pre;
        }
        label[for="-1"]:before, label[for="-1"]:before {
            content:"moderately or weakly  \A disagree";
            white-space: pre;}

        label[for="-2"]:before, label[for="-2"]:before {
            content:"strongly disagree";
        }

        .story-title {
            background-color: white;
            padding:2px;
            text-align: center;
            color: #333;
        }

        .beginning-title{
            background-color: #009E73;
            border: 2px double #009E73;
            color: white;
        }

        .ending-title{
            border: 2px double red;
            color: red;
        }

        .middle-title {
            border: 2px double #2393FF;
            color:#2393FF;
        }

        .story {
            border:1px solid #ccc;
            text-align: center;
            padding:10px;
        }

        .gray-out{
            background-color:#eee;
            color:white;
            border: 1px solid #eee;
        }

        .key-term {
            font-weight:bold;
            font-style:italic;
        }

        .key-term1{
            color: #0072B2;
            font-weight:bold;
        }

        .key-term2{
            color:#D55E00;
            font-weight:bold;
        }

        .key-term3{
            color: #CC79A7;
            font-weight:bold;
        }

        .key-term4 {
            color: red;
            font-weight:bold;
        }


        .border-o1{
            border: 1px solid #009E73;
        }

        .border-o2 {
            border: 1px solid red;
        }


        .question-choice-container {
            padding-top:2em;
            border-top:1px solid #eee;
        }

        .question-choice-container label.btn {
            background-color: #eee;
            border: none;
            margin-left: 1 !important;
            color: black;
            font-size:95%;
        }

        .question-choice-container label.btn:hover {
            color: white;
            font-size:95%;
        }

        .example-choice-container label.btn {
            background-color: #ddd;
            border: 0;
            margin-left: 0 !important;
            color: black;
            font-size:95%;
        }


        label[for="btn_choice1"]:hover, label[for="btn_choice1"].active {
            background-color:  #fc6f00 !important;
            border: 1px solid gray;
        }


        .example-card {
            margin-top: 3em;
        }

        .legend {
            margin-top: .33rem;
            font-weight: normal;
            padding-left: 40px;
        }
        .legend .label{
            font-style: italic;
        }

        .emphasize {
            font-weight: bold;
            color: black;
        }

        .obj-emph {
            font-weight: bold;
            color: blue;
        }

        .use-emph{
            font-weight: bold;
            color: green;
        }

        .example {
            pointer-events:none;
            font-size:90%;
        }

        .goal {
            border-radius: .25rem;
            padding: 0.5rem 0.5rem;
            color: white;
            background-color: #555;
            transform: translateY(-20%);
        }

        @media (max-width:460px){
            body{
            display: none;
            }
        }

        .vbottom{
            position: relative;
            top: 100%;
            transform: translateY(50%);
        }

        .ht {
            border: 1px;
            color: white;
            background: #fc6f00;
        }

        .mycolor-header1 {
            background-color:#D62687;
            color:white;
        }

        .mycolor-header2 {
            background-color:#04C792;
            color:white;
        }

        .mycolor-header3 {
            background-color:#773806;
            color:white;
        }

        .mycolor-header4 {
            background-color:#0000ff;
            color:white;
        }

        .mycolor-header5 {
            background-color:#ff0000;
            color:white;
        }

        .mycolor-border1 {
            border:2px solid #D62687;
        }

        .mycolor-border2 {
            border:2px solid #04C792;
        }

        .mycolor-border3 {
            border:2px solid #773806;
        }

        .mycolor-border4 {
            border:2px solid #0000ff;
        }

        .mycolor-border5 {
            border:2px solid #ff0000;
        }

        * {box-sizing: border-box;}

        .img-zoom-container {
            position: relative;
        }

        .img-zoom-lens {
            position: absolute;
            border: 1px solid #d4d4d4;
            /*set the size of the lens:*/
            width: 40px;
            height: 40px;
        }

        .img-zoom-result {
            border: 1px solid #d4d4d4;
            /*set the size of the result div:*/
            width: 200px;
            height: 200px;
        }
    </style>

    <!-- HIT START -->
    <div id="hit" class="container">

        <!-- ACCORDION START -->
        <div class="col-12 accordion" id="hitinfo">

            <!-- INSTRUCTIONS START -->
            <div class="card">
                <div class="card-header" id="instructionsHeading">
                    <h5 class="mb-0">
                        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#instructions" aria-expanded="true" aria-controls="instructions">
                            Instructions (click to expand/collapse)
                        </button>
                    </h5>
                </div>
                <div class="collapse show" id="instructions" aria-labelledby="instructionsHeading" data-parent="#hitinfo">
                    <div class="card-body">
                        <div class="card-content">
                            <p>Thanks for participating in this HIT!</p>

                            <p>In this task, you will first see an image showing a situation. the situation may trigger a moral judgement. </p>
                            <p>Your task is to choose the best "situation and moral judgement" in the candidates </p>
                            <p>Rules:</p>
                            <ol>
                            <li> Take <u>the image and the situation, answer</u> <strong>together</strong> to make your decision: <br>
                            In many cases multiple candidates will fit the situation in the image, then please choose up to 3 candidates. (1~3)</li>
                            <li> Please don't check if there are no good match or wrong moral judgement on the image.</li>
                            <li> If any situation or judgment doesn't match the context of the image, then leave it all blank.</li>
                            </ol>

                        </div>
                    </div>
                </div>
            </div>
            <!-- INSTRUCTIONS 2 START -->
            <div class="card">
                <div class="card-header" id="trickyHeading">
                    <h5 class="mb-0">
                        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#tricky" aria-expanded="true" aria-controls="tricky">
                            Examples (click to expand/collapse)
                        </button>
                    </h5>
                </div>
                <div class="collapse" id="tricky" aria-labelledby="trickyHeading" data-parent="#hitinfo">
                    <div class="card-body">
                        <div class="card-content">
                            <p> Please take a look at the following picture carefully and read the question and the moral decision. </p>
                            <p> The "best" answer is bolded here.</p>
                            <img src="https://storage.googleapis.com/ai2-yj/coco_images/test2014/COCO_test2014_000000000128.jpg" width="80%" class="offset-1 bg-light border mb-2"/>
                            <!-- A table of 5 rows samples-->
                            <table class="table table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th scope="col">Situation</th>
                                        <th scope="col">judgement</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Bring a gift when you go to a birthday party, given ana was celebrating her 18th birthday </td>
                                        <td>It's expected </td>
                                    </tr>
                                    <tr>
                                        <td class="emphasize">is letting an animal go without food or shelter ok, if 'stealing' food to feed a hungry elephant?</td>
                                        <td class="emphasize">It is not okay</td>
                                    </tr>
                                    <tr>
                                        <td class="emphasize">given 'stealing' food to feed a hungry elephant, caring for animals</td>
                                        <td class="emphasize">is good</td>
                                    </tr>
                                    <tr>
                                        <td>given wilbur won a medal in the competition thanks to jasper's care, is thanking the people who help you win morally ok </td>
                                        <td>It is good</td>
                                    </tr>
                                    <tr>
                                        <td>if he convinced his parents to take him to the circus for his birthday, can you celebrate your child's birthday?</td>
                                        <td>it's expected</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p> In many cases, multiple candidates will fit the situation in the image, then please check all valid candidate up to 3 answers. </p>
                            <p> If there are no good answers, choose the not applicable (leave all checkboxs blank).</p>

                            <p>
                            if you see multiple potential answers like in this example, evaluate each of the potential answers against the details provided in the question.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ACCORDION END -->


        <!-- MTURK INPUT START -->
        <div class="col-12 mt-5 mb-1 border-top">
            <form name='mturk_form' method='post' id='mturk_form' >
                <input type='hidden' value='' name='assignmentId' id='assignmentId'/>
                <input type='hidden' name='ee' id='ee'/>




                <div id="question" class="row border-bottom mb-3 question-choice-container">
                    <div class="col col-12 mt-3">
                        <img src="${url_1}" style="max-width: 100%" class="source_image"/>
                    </div>

                    <div class="mt-2 col ml-3">
                        <div class="row mt-3 pt-2 pb-2 col-12 bg-primary text-light"><span class="badge badge-light mr-3 pt-2">QA 1</span> </div>
                        <div class="row col-12 pt-1 pb-1 mb-2 border pl-5">


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_1" id="mchoice0_1" value="0">
                                <label class="form-check-label" for="mchoice0_1">
                                    ${choice0_1}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_1" id="mchoice1_1" value="1">
                                <label class="form-check-label" for="mchoice1_1">
                                    ${choice1_1}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_1" id="mchoice2_1" value="2">
                                <label class="form-check-label" for="mchoice2_1">
                                    ${choice2_1}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_1" id="mchoice3_1" value="3">
                                <label class="form-check-label" for="mchoice3_1">
                                    ${choice3_1}
                                </label>
                            </div>

                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_1" id="mchoice4_1" value="4">
                                <label class="form-check-label" for="mchoice4_1">
                                    ${choice4_1}
                                </label>
                            </div>

                        </div>
                    </div>
                </div>


                <div id="question" class="row border-bottom mb-3 question-choice-container">
                    <div class="col col-12 mt-3">
                        <img src="${url_2}" style="max-width: 100%" class="source_image"/>
                    </div>

                    <div class="mt-2 col ml-3">
                        <div class="row mt-3 pt-2 pb-2 col-12 bg-primary text-light"><span class="badge badge-light mr-3 pt-2">QA 2</span> </div>
                        <div class="row col-12 pt-1 pb-1 mb-2 border pl-5">


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_2" id="mchoice0_2" value="0">
                                <label class="form-check-label" for="mchoice0_2">
                                    ${choice0_2}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_2" id="mchoice1_2" value="1">
                                <label class="form-check-label" for="mchoice1_2">
                                    ${choice1_2}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_2" id="mchoice2_2" value="2">
                                <label class="form-check-label" for="mchoice2_2">
                                    ${choice2_2}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_2" id="mchoice3_2" value="3">
                                <label class="form-check-label" for="mchoice3_2">
                                    ${choice3_2}
                                </label>
                            </div>

                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_2" id="mchoice4_2" value="4">
                                <label class="form-check-label" for="mchoice4_2">
                                    ${choice4_2}
                                </label>
                            </div>


                        </div>
                    </div>
                </div>


                <div id="question" class="row border-bottom mb-3 question-choice-container">
                    <div class="col col-12 mt-3">
                        <img src="${url_3}" style="max-width: 100%" class="source_image"/>
                    </div>

                    <div class="mt-2 col ml-3">
                        <div class="row mt-3 pt-2 pb-2 col-12 bg-primary text-light"><span class="badge badge-light mr-3 pt-2">QA 3</span> </div>
                        <div class="row col-12 pt-1 pb-1 mb-2 border pl-5">


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_3" id="mchoice0_3" value="0">
                                <label class="form-check-label" for="mchoice0_3">
                                    ${choice0_3}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_3" id="mchoice1_3" value="1">
                                <label class="form-check-label" for="mchoice1_3">
                                    ${choice1_3}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_3" id="mchoice2_3" value="2">
                                <label class="form-check-label" for="mchoice2_3">
                                    ${choice2_3}
                                </label>
                            </div>


                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_3" id="mchoice3_3" value="3">
                                <label class="form-check-label" for="mchoice3_3">
                                    ${choice3_3}
                                </label>
                            </div>

                            <div class="form-check row col-12">
                                <input class="form-check-input" type="checkbox" name="multiple_choice_3" id="mchoice4_3" value="4">
                                <label class="form-check-label" for="mchoice4_3">
                                    ${choice4_3}
                                </label>
                            </div>

                        </div>
                    </div>
                </div>




                <!-- OPTIONAL FEEDBACK -->
                <div class="row mt-5">
                    <div class="col-8 offset-2 col-lg-6 offset-lg-3">
                        <p>(Optional) Please let us know if anything was unclear, if you experienced any issues, or if you have any other feedback for us.</p>
                        <textarea id="feedback" name="feedback" rows=3></textarea>
                    </div>
                </div>


                <!-- SUBMIT BUTTON -->
                <div class="row mt-5">
                    <div class="col-2 offset-5">
                        <input id="submitButton" onclick="getnext()" type="submit" value="Submit" />
                    </div>
                </div>

            </form>
            <script language='Javascript'>turkSetAssignmentID();</script>
        </div>
        <!-- MTURK INPUT END -->
        </div>
    <!-- HIT END -->

    <!-- BOOSTRAP JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- HITPUB JS -->
    <script id="hitpub_js">
        // TimeMe.js
        (function () { var e, t; e = this, t = function () { var r = { startStopTimes: {}, idleTimeoutMs: 3e4, currentIdleTimeMs: 0, checkStateRateMs: 250, active: !1, idle: !1, currentPageName: "default-page-name", timeElapsedCallbacks: [], userLeftCallbacks: [], userReturnCallbacks: [], trackTimeOnElement: function (e) { var t = document.getElementById(e); t && (t.addEventListener("mouseover", function () { r.startTimer(e) }), t.addEventListener("mousemove", function () { r.startTimer(e) }), t.addEventListener("mouseleave", function () { r.stopTimer(e) }), t.addEventListener("keypress", function () { r.startTimer(e) }), t.addEventListener("focus", function () { r.startTimer(e) })) }, getTimeOnElementInSeconds: function (e) { var t = r.getTimeOnPageInSeconds(e); return t || 0 }, startTimer: function (e, t) { if (e || (e = r.currentPageName), void 0 === r.startStopTimes[e]) r.startStopTimes[e] = []; else { var n = r.startStopTimes[e], i = n[n.length - 1]; if (void 0 !== i && void 0 === i.stopTime) return } r.startStopTimes[e].push({ startTime: t || new Date, stopTime: void 0 }), r.active = !0, r.idle = !1 }, stopAllTimers: function () { for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++)r.stopTimer(e[t]) }, stopTimer: function (e, t) { e || (e = r.currentPageName); var n = r.startStopTimes[e]; void 0 !== n && 0 !== n.length && (void 0 === n[n.length - 1].stopTime && (n[n.length - 1].stopTime = t || new Date), r.active = !1) }, getTimeOnCurrentPageInSeconds: function () { return r.getTimeOnPageInSeconds(r.currentPageName) }, getTimeOnPageInSeconds: function (e) { var t = r.getTimeOnPageInMilliseconds(e); return void 0 === t ? void 0 : t / 1e3 }, getTimeOnCurrentPageInMilliseconds: function () { return r.getTimeOnPageInMilliseconds(r.currentPageName) }, getTimeOnPageInMilliseconds: function (e) { var t = r.startStopTimes[e]; if (void 0 !== t) { for (var n = 0, i = 0; i < t.length; i++) { var s = t[i].startTime, o = t[i].stopTime; void 0 === o && (o = new Date), n += o - s } return Number(n) } }, getTimeOnAllPagesInSeconds: function () { for (var e = [], t = Object.keys(r.startStopTimes), n = 0; n < t.length; n++) { var i = t[n], s = r.getTimeOnPageInSeconds(i); e.push({ pageName: i, timeOnPage: s }) } return e }, setIdleDurationInSeconds: function (e) { var t = parseFloat(e); if (!1 !== isNaN(t)) throw { name: "InvalidDurationException", message: "An invalid duration time (" + e + ") was provided." }; return r.idleTimeoutMs = 1e3 * e, this }, setCurrentPageName: function (e) { return r.currentPageName = e, this }, resetRecordedPageTime: function (e) { delete r.startStopTimes[e] }, resetAllRecordedPageTimes: function () { for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++)r.resetRecordedPageTime(e[t]) }, resetIdleCountdown: function () { r.idle && r.triggerUserHasReturned(), r.idle = !1, r.currentIdleTimeMs = 0 }, callWhenUserLeaves: function (e, t) { this.userLeftCallbacks.push({ callback: e, numberOfTimesToInvoke: t }) }, callWhenUserReturns: function (e, t) { this.userReturnCallbacks.push({ callback: e, numberOfTimesToInvoke: t }) }, triggerUserHasReturned: function () { if (!r.active) for (var e = 0; e < this.userReturnCallbacks.length; e++) { var t = this.userReturnCallbacks[e], n = t.numberOfTimesToInvoke; (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t.callback()) } r.startTimer() }, triggerUserHasLeftPage: function () { if (r.active) for (var e = 0; e < this.userLeftCallbacks.length; e++) { var t = this.userLeftCallbacks[e], n = t.numberOfTimesToInvoke; (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t.callback()) } r.stopAllTimers() }, callAfterTimeElapsedInSeconds: function (e, t) { r.timeElapsedCallbacks.push({ timeInSeconds: e, callback: t, pending: !0 }) }, checkState: function () { for (var e = 0; e < r.timeElapsedCallbacks.length; e++)r.timeElapsedCallbacks[e].pending && r.getTimeOnCurrentPageInSeconds() > r.timeElapsedCallbacks[e].timeInSeconds && (r.timeElapsedCallbacks[e].callback(), r.timeElapsedCallbacks[e].pending = !1); !1 === r.idle && r.currentIdleTimeMs > r.idleTimeoutMs ? (r.idle = !0, r.triggerUserHasLeftPage()) : r.currentIdleTimeMs += r.checkStateRateMs }, visibilityChangeEventName: void 0, hiddenPropName: void 0, listenForVisibilityEvents: function () { void 0 !== document.hidden ? (r.hiddenPropName = "hidden", r.visibilityChangeEventName = "visibilitychange") : void 0 !== document.mozHidden ? (r.hiddenPropName = "mozHidden", r.visibilityChangeEventName = "mozvisibilitychange") : void 0 !== document.msHidden ? (r.hiddenPropName = "msHidden", r.visibilityChangeEventName = "msvisibilitychange") : void 0 !== document.webkitHidden && (r.hiddenPropName = "webkitHidden", r.visibilityChangeEventName = "webkitvisibilitychange"), document.addEventListener(r.visibilityChangeEventName, function () { document[r.hiddenPropName] ? r.triggerUserHasLeftPage() : r.triggerUserHasReturned() }, !1), window.addEventListener("blur", function () { r.triggerUserHasLeftPage() }), window.addEventListener("focus", function () { r.triggerUserHasReturned() }), document.addEventListener("mousemove", function () { r.resetIdleCountdown() }), document.addEventListener("keyup", function () { r.resetIdleCountdown() }), document.addEventListener("touchstart", function () { r.resetIdleCountdown() }), window.addEventListener("scroll", function () { r.resetIdleCountdown() }), setInterval(function () { r.checkState() }, r.checkStateRateMs) }, websocket: void 0, websocketHost: void 0, setUpWebsocket: function (e) { if (window.WebSocket && e) { var t = e.websocketHost; try { r.websocket = new WebSocket(t), window.onbeforeunload = function () { r.sendCurrentTime(e.appId) }, r.websocket.onopen = function () { r.sendInitWsRequest(e.appId) }, r.websocket.onerror = function (e) { console && console.log("Error occurred in websocket connection: " + e) }, r.websocket.onmessage = function (e) { console && console.log(e.data) } } catch (e) { console && console.error("Failed to connect to websocket host.  Error:" + e) } } return this }, websocketSend: function (e) { r.websocket.send(JSON.stringify(e)) }, sendCurrentTime: function (e) { var t = { type: "INSERT_TIME", appId: e, timeOnPageMs: r.getTimeOnCurrentPageInMilliseconds(), pageName: r.currentPageName }; r.websocketSend(t) }, sendInitWsRequest: function (e) { var t = { type: "INIT", appId: e }; r.websocketSend(t) }, initialize: function (e) { var t = r.idleTimeoutMs || 30, n = r.currentPageName || "default-page-name", i = void 0, s = void 0; e && (t = e.idleTimeoutInSeconds || t, n = e.currentPageName || n, i = e.websocketOptions, s = e.initialStartTime), r.setIdleDurationInSeconds(t).setCurrentPageName(n).setUpWebsocket(i).listenForVisibilityEvents(), r.startTimer(void 0, s) } }; return r }, "undefined" != typeof module && module.exports ? module.exports = t() : "function" == typeof define && define.amd ? define([], function () { return e.TimeMe = t() }) : e.TimeMe = t() }).call(this);

        TimeMe.initialize({
            currentPageName: "task",
            idleTimeoutInSeconds: 30
        });



        $(document).ready(function() {
            // TimeMe
            $('#submitButton').click(function () {
                try {
                    $('input[name=ee]').attr('value', TimeMe.getTimeOnCurrentPageInSeconds());
                } catch {
                }
                return true;
            });
        });

        $(document).ready(hide_show_impossible);

        function hide_show_impossible() {
            $("input[type='checkbox']").on('change', function() {
                name = $(this).attr('id').split('_')[1];
                if($(this).prop('checked')) {
                    $('#indicator_'+name).val("NOTHING");
                    $('#indicator_'+name).prop("disabled", true);
                    $("input[type='radio'][name='likelihood_"+name).removeAttr('required');
                    $("input[type='radio'][name='likelihood_"+name).prop('disabled',true);
                    $('#indicator_label_'+name).text('Very briefly, tell us why it is impossible:');
                    $('#indicator_label_'+name).removeClass('key-term2');
                    $('#indicator_label_'+name).addClass('key-term4');
                } else {
                    $('#significance_'+name).val("");
                    $('#indicator_'+name).val("");
                    $('#indicator_'+name).prop("disabled", false);
                    $("input[type='radio'][name='likelihood_"+name).attr('required',true);
                    $("input[type='radio'][name='likelihood_"+name).prop('disabled',false);
                    $('#indicator_label_'+name).text('It might indicate that...');
                    $('#indicator_label_'+name).removeClass('key-term4');
                    $('#indicator_label_'+name).addClass('key-term2');
                }
            });
        }

        $('#obs_desc').keyup(function() {
            var sel_obs = $('#obs_select').val();
            $('#indicator_'+sel_obs).text($(this).val());
        });

        $('#obs_select').change(function(x){
            var sel_obs = $('#obs_select').val();
            var current_text = $('#indicator_'+sel_obs).text();

            $('#obs_desc').val(current_text);
        });

        $('#significance_1').keyup(function() {
            if ($('#impossible_1').prop('checked')) {
                var indicator_copy = $('#significance_1').val();
                $('#impossible_2').prop('checked','true');
                $('#impossible_2').change();
                $('#impossible_3').prop('checked','true');
                $('#impossible_3').change();
                $('#significance_2').val(indicator_copy);
                $('#significance_3').val(indicator_copy);
            }
        });

        $('#significance_2').keyup(function() {
            if ($('#impossible_2').prop('checked')) {
                $('#impossible_3').prop('checked','true');
                $('#impossible_3').change();
                $('#significance_3').val($('#significance_2').val());
            }
        });



    </script>
    <!-- For charting JS -->
    <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js" type="text/javascript"></script>
